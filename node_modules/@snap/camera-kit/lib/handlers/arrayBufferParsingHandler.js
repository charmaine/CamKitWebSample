import { __awaiter } from "tslib";
/**
 * Parse a Fetch Response body into an ArrayBuffer.
 *
 * @returns {@link ChainableHandler}, suitable for use in {@link HandlerChainBuilder.map}
 */
export const createArrayBufferParsingHandler = () => (next) => (req, metadata) => __awaiter(void 0, void 0, void 0, function* () {
    const response = yield next(req, metadata);
    let buffer;
    try {
        buffer = yield response.arrayBuffer();
    }
    catch (_) {
        buffer = new ArrayBuffer(0);
    }
    return [buffer, response];
});
//# sourceMappingURL=arrayBufferParsingHandler.js.map